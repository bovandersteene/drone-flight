<agm-map
  [latitude]="latitude"
  [longitude]="longitude"
  [zoom]="17"
  (mapClick)="addNode($event)"
  (centerChange)="centerChanged($event)"
>
  <agm-marker
    *ngFor="let path of paths; let i = index"
    [latitude]="path.lat"
    [longitude]="path.lng"
    [markerDraggable]="true"
    (markerClick)="deleteNode(i)"
    (dragEnd)="moveNode(i, $event)"
  ></agm-marker>
  <agm-polyline>
    <agm-polyline-point
      *ngFor="let path of paths"
      color="red"
      [latitude]="path.lat"
      [longitude]="path.lng"
    ></agm-polyline-point>
  </agm-polyline>
</agm-map>
